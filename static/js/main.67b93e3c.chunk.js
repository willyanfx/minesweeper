(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a(16)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(4),c=a.n(l);a(11),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i,r,u,s,v,b,m,f=a(1),d=a(5),p=a(2);!function(e){e[e.none=0]="none",e[e.one=1]="one",e[e.two=2]="two",e[e.three=3]="three",e[e.four=4]="four",e[e.five=5]="five",e[e.six=6]="six",e[e.seven=7]="seven",e[e.eight=8]="eight",e[e.bomb=9]="bomb"}(i||(i={})),function(e){e[e.open=0]="open",e[e.visible=1]="visible",e[e.flagged=2]="flagged"}(r||(r={})),function(e){e.smile="\ud83d\ude01",e.oh="\ud83d\ude2e",e.lost="\ud83d\ude35",e.won="\ud83d\ude0e"}(u||(u={})),function(e){e.dark="dark",e.light="light"}(s||(s={})),function(e){e.classic="classic",e.Skeuomorph="skeuomorph"}(v||(v={})),function(e){e.easy="easy",e.medium="medium",e.hard="hard"}(b||(b={})),function(e){e.hasWon="HAS_WON",e.hasLost="HAS_LOST",e.cells="CELLS",e.newGame="NEWGAME",e.live="LIVE",e.face="FACE"}(m||(m={}));var h=function(e,t){var a=Object(n.useState)((function(){var a=localStorage.getItem(e);return a?JSON.parse(a):t})),o=Object(p.a)(a,2),l=o[0],c=o[1];return Object(n.useEffect)((function(){localStorage.setItem(e,JSON.stringify(l))}),[e,l]),[l,c]},g=(Object(n.createContext)([]),Object(n.createContext)({})),C=Object(n.createContext)({}),O=function(e,t){switch(t.type){case m.newGame:return Object(f.a)({},e,{newGame:!0,live:!1,hasLost:!1,hasWin:!1,face:u.smile,timer:!0});case m.hasLost:return Object(f.a)({},e,{hasLost:!0,live:!1,face:u.lost});case m.hasWon:return Object(f.a)({},e,{hasWon:!0,live:!1});case m.live:return Object(f.a)({},e,{live:t.payload,face:u.smile});case m.face:return Object(f.a)({},e,{face:t.payload});default:return e}},j=(a(12),function(e){var t=e.col,a=e.onClick,l=e.onContext,c=e.red,u=e.row,s=e.state,v=e.value,b=e.onMouseDown,m=e.onMouseUp,f=e.disabled,d=Object(n.useContext)(g),p=d.theme,h=d.mode,C=["".concat(p,"--button"),"".concat(p,"--button-").concat(h),s===r.visible?"".concat(p,"--button-").concat(h,"__visible"):"","value-".concat(v),c?"".concat(p,"--button-").concat(h,"__red"):""].filter(Boolean).join(" ");return o.a.createElement("button",{"aria-label":"BUTTON row: ".concat(u,", column: ").concat(t),className:C,onClick:a(u,t),onContextMenu:l(u,t),onMouseDown:b,onMouseUp:m,disabled:f},s===r.visible?v===i.bomb?o.a.createElement("span",{role:"img","aria-label":"bomb"},"\ud83d\udca3"):v===i.none?null:v:s===r.flagged?o.a.createElement("span",{role:"img","aria-label":"flag"},"\ud83d\udea9"):null)}),E=function(e){var t=e.state,a=e.onClick,n=e.onContext,l=e.onMouseDown,c=e.onMouseUp,i=e.disabled;return t.map((function(e,t){return e.map((function(e,r){return o.a.createElement(j,{col:r,disabled:i,key:"".concat(t,"-").concat(r),onClick:a,onContext:n,red:e.red,row:t,state:e.state,value:e.value,onMouseDown:l,onMouseUp:c})}))}))};a(13);var w=function(e,t){var a=Object(n.useRef)(null);Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(t){var e=setInterval((function(){a.current()}),1e3);return function(){return clearInterval(e)}}}),[t])},y=function(e){var t=e.value,a=void 0===t?10:t,l=Object(n.useContext)(g),c=l.theme,i=l.mode,r=["numberDisplay","".concat(c,"--numberDisplay"),"".concat(c,"--numberDisplay-").concat(i)].filter(Boolean).join(" ");return o.a.createElement("div",{className:r},o.a.createElement("span",{className:"".concat(c,"--numberDisplay-").concat(i,"__numbers")},a.toString().padStart(3,"0")))},k=function(e){var t=e.live,a=void 0!==t&&t,l=e.timer,c=Object(n.useState)(0),i=Object(p.a)(c,2),r=i[0],u=i[1];return w((function(){a&&r<999&&u(r+1)}),a),Object(n.useEffect)((function(){u(0)}),[l]),o.a.createElement(y,{value:r})},L=function(e,t,a){return{topLeftCell:t>0&&a>0?e[t-1][a-1]:null,topCell:t>0?e[t-1][a]:null,topRightCell:t>0&&a<8?e[t-1][a+1]:null,leftCell:a>0?e[t][a-1]:null,rightCell:a<8?e[t][a+1]:null,bottomLeftCell:t<8&&a>0?e[t+1][a-1]:null,bottomCell:t<8?e[t+1][a]:null,bottomRightCell:t<8&&a<8?e[t+1][a+1]:null}},S=function(){for(var e=[],t=0;t<9;t++){e.push([]);for(var a=0;a<9;a++)e[t].push({value:i.none,state:r.open})}for(var n=0,o=function(){var t=Math.floor(9*Math.random()),a=Math.floor(9*Math.random());e[t][a].value!==i.bomb&&(e=e.map((function(e,n){return e.map((function(e,o){return t===n&&a===o?Object(f.a)({},e,{value:i.bomb}):e}))})),n++)};n<10;)o();for(var l=0;l<9;l++)for(var c=0;c<9;c++){var u=e[l][c];if(u.value!==i.bomb){var s=0,v=L(e,l,c),b=v.topLeftCell,m=v.topCell,d=v.topRightCell,p=v.leftCell,h=v.rightCell,g=v.bottomLeftCell,C=v.bottomCell,O=v.bottomRightCell;(null===b||void 0===b?void 0:b.value)===i.bomb&&s++,(null===m||void 0===m?void 0:m.value)===i.bomb&&s++,(null===d||void 0===d?void 0:d.value)===i.bomb&&s++,(null===p||void 0===p?void 0:p.value)===i.bomb&&s++,(null===h||void 0===h?void 0:h.value)===i.bomb&&s++,(null===g||void 0===g?void 0:g.value)===i.bomb&&s++,(null===C||void 0===C?void 0:C.value)===i.bomb&&s++,(null===O||void 0===O?void 0:O.value)===i.bomb&&s++,s>0&&(e[l][c]=Object(f.a)({},u,{value:s}))}}return e},x=(a(14),{live:!1,newGame:!0,hasWon:!1,hasLost:!1,face:u.smile,timer:!1}),M=function(){var e=Object(n.useState)(10),t=Object(p.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(S()),s=Object(p.a)(c,2),v=s[0],b=s[1],d=Object(n.useContext)(g),h=d.theme,C=d.mode,j=Object(n.useReducer)(O,x),w=Object(p.a)(j,2),M=w[0],N=w[1],W=function(){return v.slice().map((function(e){return e.map((function(e){return e.value===i.bomb?Object(f.a)({},e,{state:r.visible}):e}))}))};return o.a.createElement("div",{className:"game ".concat(h," ").concat(h,"-").concat(C)},o.a.createElement("div",{className:"".concat(h,"--header ").concat(h,"--header-").concat(C)},o.a.createElement(y,{value:a}),o.a.createElement("button",{className:"".concat(h,"--face ").concat(h,"--face-").concat(C),"aria-label":"start/reset",onClick:function(){b(S()),N({type:m.newGame})}},o.a.createElement("span",{role:"img"},M.face)),o.a.createElement(k,{live:M.live,timer:M.timer})),o.a.createElement("div",{className:"".concat(h,"--body ").concat(h,"--body-").concat(C)},o.a.createElement(E,{disabled:M.hasLost,state:v,onClick:M.hasLost||M.hasWon?function(){}:function(e,t){return function(){var a=v.slice();if(!M.live){for(var n=a[e][t].value===i.bomb;n;)if((a=S())[e][t].value!==i.bomb){n=!1;break}N({type:m.live,payload:!0})}var o=a[e][t];if(![r.flagged,r.visible].includes(o.state)){if(o.value===i.bomb)return a[e][t].red=!0,a=W(),b(a),void N({type:m.hasLost});o.value===i.none?a=function e(t,a,n){var o=t[a][n];if(o.state===r.visible||o.state===r.flagged)return t;var l=t.slice();l[a][n].state=r.visible;var c=L(t,a,n),u=c.topLeftCell,s=c.topCell,v=c.topRightCell,b=c.leftCell,m=c.rightCell,f=c.bottomLeftCell,d=c.bottomCell,p=c.bottomRightCell;return(null===u||void 0===u?void 0:u.state)===r.open&&u.value!==i.bomb&&(u.value===i.none?l=e(l,a-1,n-1):l[a-1][n-1].state=r.visible),(null===s||void 0===s?void 0:s.state)===r.open&&s.value!==i.bomb&&(s.value===i.none?l=e(l,a-1,n):l[a-1][n].state=r.visible),(null===v||void 0===v?void 0:v.state)===r.open&&v.value!==i.bomb&&(v.value===i.none?l=e(l,a-1,n+1):l[a-1][n+1].state=r.visible),(null===b||void 0===b?void 0:b.state)===r.open&&b.value!==i.bomb&&(b.value===i.none?l=e(l,a,n-1):l[a][n-1].state=r.visible),(null===m||void 0===m?void 0:m.state)===r.open&&m.value!==i.bomb&&(m.value===i.none?l=e(l,a,n+1):l[a][n+1].state=r.visible),(null===f||void 0===f?void 0:f.state)===r.open&&f.value!==i.bomb&&(f.value===i.none?l=e(l,a+1,n-1):l[a+1][n-1].state=r.visible),(null===d||void 0===d?void 0:d.state)===r.open&&d.value!==i.bomb&&(d.value===i.none?l=e(l,a+1,n):l[a+1][n].state=r.visible),(null===p||void 0===p?void 0:p.state)===r.open&&p.value!==i.bomb&&(p.value===i.none?l=e(l,a+1,n+1):l[a+1][n+1].state=r.visible),l}(a,e,t):a[e][t].state=r.visible;for(var l=!1,c=0;c<9;c++)for(var u=0;u<9;u++){var s=a[c][u];if(s.value!==i.bomb&&s.state===r.open){l=!0;break}}l||(a=a.map((function(e){return e.map((function(e){return e.value===i.bomb?Object(f.a)({},e,{state:r.flagged}):e}))})),N({type:m.hasWon})),b(a)}}},onContext:function(e,t){return function(n){if(n.preventDefault(),!M.hasLost&&!M.hasWon){var o=v.slice(),c=v[e][t];c.state!==r.visible&&(c.state===r.open?(o[e][t].state=r.flagged,b(o),l(a-1)):c.state===r.flagged&&(o[e][t].state=r.open,b(o),N({type:m.cells}),l(a+1)))}}},onMouseDown:function(e){return N({type:m.face,payload:u.oh})},onMouseUp:function(e){return N({type:m.face,payload:u.smile})}})))};a(15);function N(){var e=o.a.useState(!1),t=Object(p.a)(e,2),a=t[0],l=t[1],c=o.a.useState(v.Skeuomorph),i=Object(p.a)(c,2),r=i[0],u=i[1],b=(Object(n.useContext)(g),Object(n.useContext)(C));Object(n.useEffect)((function(){var e=a?s.dark:s.light;b({mode:e})}),[a]),Object(n.useEffect)((function(){b({theme:r})}),[r]);var m=[a?"dark-mode":null,"nav"].filter(Boolean).join(" ");return o.a.createElement("header",{className:m},o.a.createElement("div",{className:"logo"},"LOGO"),o.a.createElement("div",{className:"options"},o.a.createElement("button",{onClick:function(){return r===v.classic?u(v.Skeuomorph):u(v.classic)}},r),o.a.createElement("div",{id:"toggle",onClick:function(){return l(!1===a)}},o.a.createElement("div",{className:"".concat(a&&"toggle-active"," toggle-inner")}))))}var W={theme:v.classic,mode:s.dark},D=function(){var e=h("theme",W),t=Object(p.a)(e,2),a=t[0],n=t[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(C.Provider,{value:function(e){var t=Object(d.a)({},e);n(Object(f.a)({},a,{},t))}},o.a.createElement(g.Provider,{value:a},o.a.createElement(N,null),o.a.createElement(M,null))))};c.a.render(o.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[6,1,2]]]);
//# sourceMappingURL=main.67b93e3c.chunk.js.map